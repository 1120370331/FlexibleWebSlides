<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.2 è¯¾åä½œä¸š Â· åç«¯æ¥å£è¯¦è§£ä¸å®è·µ</title>
    <link rel="stylesheet" href="course_template/course-template.css">
    <style>
        /* å¢å¼ºä»£ç å—æ ·å¼ - ç±»ä¼¼ VS Code / GitHub é£æ ¼ */
        .code-enhanced {
            background: #1e1e1e;
            border-radius: 8px;
            overflow: hidden;
            margin: 1rem 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .code-enhanced .code-header {
            background: #323233;
            padding: 8px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #404040;
        }
        .code-enhanced .code-header .dots {
            display: flex;
            gap: 6px;
        }
        .code-enhanced .code-header .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .code-enhanced .code-header .dot.red { background: #ff5f56; }
        .code-enhanced .code-header .dot.yellow { background: #ffbd2e; }
        .code-enhanced .code-header .dot.green { background: #27ca40; }
        .code-enhanced .code-header .filename {
            color: #9d9d9d;
            font-size: 13px;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
        }
        .code-enhanced .code-header .copy-btn {
            background: #404040;
            border: none;
            color: #9d9d9d;
            padding: 4px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        .code-enhanced .code-header .copy-btn:hover {
            background: #505050;
            color: #fff;
        }
        .code-enhanced .code-body {
            padding: 16px;
            overflow-x: auto;
        }
        .code-enhanced pre {
            margin: 0;
            font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.6;
            color: #d4d4d4;
        }
        .code-enhanced .line-numbers {
            display: inline-block;
            text-align: right;
            padding-right: 16px;
            margin-right: 16px;
            border-right: 1px solid #404040;
            color: #6e7681;
            user-select: none;
        }
        /* è¯­æ³•é«˜äº® */
        .code-enhanced .keyword { color: #569cd6; }
        .code-enhanced .string { color: #ce9178; }
        .code-enhanced .comment { color: #6a9955; }
        .code-enhanced .function { color: #dcdcaa; }
        .code-enhanced .number { color: #b5cea8; }
        .code-enhanced .decorator { color: #d7ba7d; }
        .code-enhanced .class-name { color: #4ec9b0; }

        /* ä½œä¸šå¡ç‰‡å¢å¼º */
        .homework-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 16px;
        }
        .homework-card h3 {
            margin: 0 0 12px 0;
            font-size: 20px;
        }
        .homework-card .difficulty {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-bottom: 12px;
        }
        .homework-card .difficulty.easy { background: rgba(39, 202, 64, 0.3); }
        .homework-card .difficulty.medium { background: rgba(255, 189, 46, 0.3); }
        .homework-card .difficulty.hard { background: rgba(255, 95, 86, 0.3); }

        /* æäº¤æ¸…å• */
        .submit-checklist {
            background: #f8fafc;
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            padding: 16px;
        }
        .submit-checklist h4 {
            margin: 0 0 12px 0;
            color: #475569;
        }
        .submit-checklist label {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 0;
            cursor: pointer;
        }
        .submit-checklist input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }
    </style>
</head>
<body data-theme="sunset">

    <header class="lesson-header">
        <div class="lesson-meta">
            <span class="lesson-tag">Homework 3.2</span>
            <h1 class="lesson-title">è¯¾åä½œä¸š</h1>
        </div>
        <div class="lesson-nav">
            <button class="nav-button" data-action="prev">ä¸Šä¸€é¡µ</button>
            <div class="progress-meta">
                <div class="progress-count">
                    <span data-current>1</span>
                    <span>/</span>
                    <span data-total>1</span>
                </div>
                <div class="progress-track">
                    <div class="progress-indicator"></div>
                </div>
            </div>
            <button class="nav-button" data-action="next">ä¸‹ä¸€é¡µ</button>
        </div>
    </header>

    <main class="slides">

        <!-- ===================== SLIDE 1: ä½œä¸šæ¦‚è§ˆ ===================== -->
        <section class="slide is-active">
            <div class="layout-center">
                <div class="hero-card">
                    <p class="pill">3.2 è¯¾åä½œä¸š</p>
                    <h1>åç«¯æ¥å£å®æˆ˜ç»ƒä¹ </h1>
                    <p class="subheading">å®Œæˆä»¥ä¸‹ä½œä¸šï¼Œå·©å›ºæ¥å£å¼€å‘æŠ€èƒ½</p>
                    <div class="card-grid">
                        <div class="homework-card">
                            <span class="difficulty easy">â­ åŸºç¡€</span>
                            <h3>ä½œä¸š 1ï¼šå®Œæˆç™»å½•æ¥å£</h3>
                            <p>è¡¥å…¨ views.py ä¸­çš„ TODOï¼Œå®ç°ç™»å½•åŠŸèƒ½</p>
                        </div>
                        <div class="homework-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <span class="difficulty medium">â­â­ è¿›é˜¶</span>
                            <h3>ä½œä¸š 2ï¼šå®ç°æ³¨å†Œæ¥å£</h3>
                            <p>è®¾è®¡å¹¶å®ç°ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½</p>
                        </div>
                        <div class="homework-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                            <span class="difficulty hard">â­â­â­ æŒ‘æˆ˜</span>
                            <h3>ä½œä¸š 3ï¼šæ¥å£è¯„å®¡</h3>
                            <p>è¯„å®¡åŒå­¦çš„ä»£ç ï¼Œæå‡ºæ”¹è¿›å»ºè®®</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===================== SLIDE 2: ä½œä¸š1 è¯¦æƒ… ===================== -->
        <section class="slide">
            <div class="layout-split">
                <div class="panel">
                    <h2>ä½œä¸š 1ï¼šå®Œæˆç™»å½•æ¥å£</h2>
                    <div class="concept-card">
                        <h3>ğŸ“‹ ä»»åŠ¡è¦æ±‚</h3>
                        <ul>
                            <li>æ‰“å¼€ <code>demo_project/accounts/views.py</code></li>
                            <li>æ‰¾åˆ°æ‰€æœ‰ <code># TODO:</code> æ³¨é‡Š</li>
                            <li>æŒ‰ç…§æ³¨é‡Šæç¤ºå®Œæˆä»£ç </li>
                            <li>è¿è¡Œæµ‹è¯•éªŒè¯å®ç°</li>
                        </ul>
                    </div>
                    <div class="concept-card">
                        <h3>âœ… éªŒæ”¶æ ‡å‡†</h3>
                        <ul>
                            <li>æ‰€æœ‰æµ‹è¯•é€šè¿‡</li>
                            <li>ç™»å½•æˆåŠŸè¿”å› token</li>
                            <li>é”™è¯¯æƒ…å†µè¿”å›æ­£ç¡®çŠ¶æ€ç </li>
                        </ul>
                    </div>
                </div>
                <div class="panel">
                    <h2>éœ€è¦å®ç°çš„åŠŸèƒ½</h2>
                    <div class="code-enhanced">
                        <div class="code-header">
                            <div class="dots">
                                <span class="dot red"></span>
                                <span class="dot yellow"></span>
                                <span class="dot green"></span>
                            </div>
                            <span class="filename">views.py</span>
                            <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        </div>
                        <div class="code-body">
<pre><span class="comment"># TODO: è¯·å®ç°å‚æ•°æ ¡éªŒ</span>
<span class="keyword">if</span> <span class="keyword">not</span> username <span class="keyword">or</span> <span class="keyword">not</span> password:
    <span class="keyword">return</span> <span class="function">JsonResponse</span>({
        <span class="string">'code'</span>: <span class="number">400</span>,
        <span class="string">'message'</span>: <span class="string">'ç¼ºå°‘å¿…å¡«å‚æ•°'</span>
    }, status=<span class="number">400</span>)

<span class="comment"># TODO: è¯·å®ç°ç”¨æˆ·å­˜åœ¨æ€§æ£€æŸ¥</span>
<span class="keyword">if</span> <span class="keyword">not</span> <span class="class-name">User</span>.objects.<span class="function">filter</span>(
    username=username
).<span class="function">exists</span>():
    <span class="keyword">return</span> <span class="function">JsonResponse</span>({...})</pre>
                        </div>
                    </div>
                    <p class="hint">ğŸ“‚ å‚è€ƒç­”æ¡ˆï¼šviews_solution.py</p>
                </div>
            </div>
        </section>

        <!-- ===================== SLIDE 3: è¿è¡Œæµ‹è¯• ===================== -->
        <section class="slide">
            <div class="layout-center">
                <div class="panel">
                    <h2>éªŒè¯ä½ çš„å®ç°</h2>
                    <div class="code-enhanced">
                        <div class="code-header">
                            <div class="dots">
                                <span class="dot red"></span>
                                <span class="dot yellow"></span>
                                <span class="dot green"></span>
                            </div>
                            <span class="filename">Terminal</span>
                            <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        </div>
                        <div class="code-body">
<pre><span class="comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span>
<span class="keyword">cd</span> demo_project

<span class="comment"># è¿è¡Œæ‰€æœ‰æµ‹è¯•</span>
python manage.py <span class="function">test</span> accounts

<span class="comment"># æœŸæœ›è¾“å‡ºï¼š</span>
<span class="string">Creating test database...</span>
<span class="string">.......................</span>
<span class="string">----------------------------------------------------------------------</span>
<span class="string">Ran 20 tests in 0.XXXs</span>
<span class="string">OK</span></pre>
                        </div>
                    </div>
                    <div class="card-grid">
                        <div class="concept-card">
                            <h3>ğŸ”´ æµ‹è¯•å¤±è´¥ï¼Ÿ</h3>
                            <p>æ£€æŸ¥é”™è¯¯ä¿¡æ¯ï¼Œå¯¹ç…§ TODO æ³¨é‡Šä¿®æ”¹ä»£ç </p>
                        </div>
                        <div class="concept-card">
                            <h3>ğŸŸ¢ æµ‹è¯•é€šè¿‡ï¼Ÿ</h3>
                            <p>æ­å–œï¼ç»§ç»­å®Œæˆä½œä¸š 2</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===================== SLIDE 4: ä½œä¸š2 è¯¦æƒ… ===================== -->
        <section class="slide">
            <div class="layout-split">
                <div class="panel">
                    <h2>ä½œä¸š 2ï¼šå®ç°æ³¨å†Œæ¥å£</h2>
                    <div class="concept-card">
                        <h3>ğŸ“‹ æ¥å£è®¾è®¡</h3>
                        <ul>
                            <li><strong>URL:</strong> POST /api/register/</li>
                            <li><strong>å‚æ•°:</strong> username, password, email</li>
                            <li><strong>æˆåŠŸ:</strong> 201 + ç”¨æˆ·ä¿¡æ¯</li>
                            <li><strong>ç”¨æˆ·åå·²å­˜åœ¨:</strong> 409</li>
                            <li><strong>å‚æ•°é”™è¯¯:</strong> 400</li>
                        </ul>
                    </div>
                    <div class="task-card">
                        <h3>ğŸ“ æ­¥éª¤</h3>
                        <ol>
                            <li>å…ˆå†™æ¥å£æ–‡æ¡£</li>
                            <li>ç”¨ AI è¾…åŠ©ç”Ÿæˆä»£ç </li>
                            <li>è¡¥å……æµ‹è¯•ç”¨ä¾‹</li>
                            <li>è¿è¡Œæµ‹è¯•éªŒè¯</li>
                        </ol>
                    </div>
                </div>
                <div class="panel">
                    <h2>å‚è€ƒä»£ç ç»“æ„</h2>
                    <div class="code-enhanced">
                        <div class="code-header">
                            <div class="dots">
                                <span class="dot red"></span>
                                <span class="dot yellow"></span>
                                <span class="dot green"></span>
                            </div>
                            <span class="filename">views.py</span>
                            <button class="copy-btn" onclick="copyCode(this)">å¤åˆ¶</button>
                        </div>
                        <div class="code-body">
<pre><span class="decorator">@csrf_exempt</span>
<span class="keyword">def</span> <span class="function">register_view</span>(request):
    <span class="string">"""æ³¨å†Œæ¥å£"""</span>
    <span class="comment"># 1. æ£€æŸ¥è¯·æ±‚æ–¹æ³•</span>
    <span class="keyword">if</span> request.method != <span class="string">'POST'</span>:
        <span class="keyword">return</span> ...

    <span class="comment"># 2. è§£æ JSON</span>
    data = json.<span class="function">loads</span>(request.body)

    <span class="comment"># 3. å‚æ•°æ ¡éªŒ</span>
    <span class="comment"># - ç”¨æˆ·åè‡³å°‘ 3 å­—ç¬¦</span>
    <span class="comment"># - å¯†ç è‡³å°‘ 6 å­—ç¬¦</span>

    <span class="comment"># 4. æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨</span>

    <span class="comment"># 5. åˆ›å»ºç”¨æˆ·</span>
    user = <span class="class-name">User</span>.objects.<span class="function">create_user</span>(...)

    <span class="comment"># 6. è¿”å›ç»“æœ</span>
    <span class="keyword">return</span> <span class="function">JsonResponse</span>({...})</pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===================== SLIDE 5: ä½œä¸š3 è¯¦æƒ… ===================== -->
        <section class="slide">
            <div class="layout-center">
                <div class="panel">
                    <h2>ä½œä¸š 3ï¼šæ¥å£è¯„å®¡ç»ƒä¹ </h2>
                    <div class="concept-card">
                        <h3>ğŸ“‹ è¯„å®¡ç»´åº¦</h3>
                        <div class="card-grid">
                            <div class="concept-card">
                                <h3>âœ… æ­£ç¡®æ€§</h3>
                                <p>åŠŸèƒ½æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Ÿ</p>
                            </div>
                            <div class="concept-card">
                                <h3>ğŸ›¡ï¸ ç¨³å®šæ€§</h3>
                                <p>å¼‚å¸¸è¾“å…¥ä¼šå´©æºƒå—ï¼Ÿ</p>
                            </div>
                            <div class="concept-card">
                                <h3>ğŸ”’ å®‰å…¨æ€§</h3>
                                <p>æœ‰è¶Šæƒé£é™©å—ï¼Ÿ</p>
                            </div>
                            <div class="concept-card">
                                <h3>ğŸ“– æ˜“ç”¨æ€§</h3>
                                <p>é”™è¯¯æç¤ºæ¸…æ™°å—ï¼Ÿ</p>
                            </div>
                        </div>
                    </div>
                    <div class="task-card">
                        <h3>ğŸ“ è¯„å®¡æŠ¥å‘Šæ¨¡æ¿</h3>
                        <ol>
                            <li>è¢«è¯„å®¡æ¥å£ï¼šXXX</li>
                            <li>å‘ç°çš„é—®é¢˜ï¼ˆè‡³å°‘ 3 æ¡ï¼‰</li>
                            <li>æ”¹è¿›å»ºè®®</li>
                            <li>äº®ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===================== SLIDE 6: æäº¤è¦æ±‚ ===================== -->
        <section class="slide">
            <div class="layout-center">
                <div class="panel">
                    <h2>ä½œä¸šæäº¤</h2>
                    <div class="submit-checklist">
                        <h4>ğŸ“¦ æäº¤æ¸…å•</h4>
                        <label><input type="checkbox"> å®Œæˆçš„ views.py ä»£ç </label>
                        <label><input type="checkbox"> æµ‹è¯•è¿è¡Œæˆªå›¾ï¼ˆå…¨éƒ¨é€šè¿‡ï¼‰</label>
                        <label><input type="checkbox"> ä¸ AI çš„å…³é”®å¯¹è¯è®°å½•</label>
                        <label><input type="checkbox"> æ¥å£æ–‡æ¡£ï¼ˆä½œä¸š2ï¼‰</label>
                        <label><input type="checkbox"> è¯„å®¡æŠ¥å‘Šï¼ˆä½œä¸š3ï¼‰</label>
                    </div>
                    <div class="card-grid">
                        <div class="concept-card">
                            <h3>ğŸ“… æˆªæ­¢æ—¶é—´</h3>
                            <p>ä¸‹æ¬¡ä¸Šè¯¾å‰</p>
                        </div>
                        <div class="concept-card">
                            <h3>ğŸ“¤ æäº¤æ–¹å¼</h3>
                            <p>æ‰“åŒ…ä¸º zip ä¸Šä¼ åˆ°è¯¾ç¨‹å¹³å°</p>
                        </div>
                    </div>
                    <blockquote class="blockquote">é‡åˆ°é—®é¢˜ï¼Ÿå…ˆå°è¯•ç”¨ AI è§£å†³ï¼Œå®åœ¨ä¸è¡Œå†é—®è€å¸ˆ</blockquote>
                </div>
            </div>
        </section>

        <!-- ===================== SLIDE 7: å¡«ç©ºç»ƒä¹  ===================== -->
        <section class="slide">
            <div class="layout-split">
                <div class="panel">
                    <h2>å‘½ä»¤å¡«å†™ç»ƒä¹ </h2>
                    <p>æ ¹æ®æ‰€å­¦ï¼Œå¡«å†™æ­£ç¡®çš„å‘½ä»¤</p>
                    <div class="concept-card">
                        <h3>ğŸ’¡ æç¤º</h3>
                        <ul>
                            <li>å‚è€ƒè¯¾å ‚æ¼”ç¤ºçš„æµç¨‹</li>
                            <li>æ³¨æ„å‘½ä»¤æ ¼å¼</li>
                        </ul>
                    </div>
                </div>
                <div class="panel">
                    <div class="task-card" data-quiz="cmd-quiz">
                        <h3>å¡«å†™ Django å‘½ä»¤</h3>
                        <div class="quiz-inputs">
                            <label class="quiz-input-label">
                                <span>åˆå§‹åŒ–æ•°æ®åº“ï¼š</span>
                                <input type="text" data-step="1" placeholder="python manage.py ???">
                                <span class="quiz-status"></span>
                                <span class="quiz-answer">python manage.py migrate</span>
                            </label>
                            <label class="quiz-input-label">
                                <span>è¿è¡Œæµ‹è¯•ï¼š</span>
                                <input type="text" data-step="2" placeholder="python manage.py ???">
                                <span class="quiz-status"></span>
                                <span class="quiz-answer">python manage.py test</span>
                            </label>
                            <label class="quiz-input-label">
                                <span>å¯åŠ¨æœåŠ¡ï¼š</span>
                                <input type="text" data-step="3" placeholder="python manage.py ???">
                                <span class="quiz-status"></span>
                                <span class="quiz-answer">python manage.py runserver</span>
                            </label>
                        </div>
                        <button class="nav-button quiz-check" type="button">éªŒè¯ç­”æ¡ˆ</button>
                        <button type="button" class="quiz-answer-toggle">ğŸ‘ æ˜¾ç¤º/éšè—å‚è€ƒç­”æ¡ˆ</button>
                        <p class="quiz-result" aria-live="polite"></p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="lesson-footer">
        3.2 è¯¾åä½œä¸š Â· AI ç¼–ç¨‹åŸ¹è®­
    </footer>

    <script src="course_template/course-template.js"></script>
    <script>
        // å¤åˆ¶ä»£ç åŠŸèƒ½
        function copyCode(btn) {
            const codeBody = btn.closest('.code-enhanced').querySelector('pre');
            const text = codeBody.textContent;
            navigator.clipboard.writeText(text).then(() => {
                btn.textContent = 'å·²å¤åˆ¶!';
                setTimeout(() => btn.textContent = 'å¤åˆ¶', 2000);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            initCmdQuiz();
            initAnswerToggles();
        });

        function initAnswerToggles() {
            document.querySelectorAll('.quiz-answer-toggle').forEach(toggle => {
                toggle.addEventListener('click', () => {
                    const container = toggle.closest('.task-card');
                    const answers = container?.querySelectorAll('.quiz-answer');
                    const isShowing = toggle.classList.toggle('is-showing');
                    answers?.forEach(a => a.classList.toggle('is-visible', isShowing));
                });
            });
        }

        function initCmdQuiz() {
            const container = document.querySelector('[data-quiz="cmd-quiz"]');
            if (!container) return;
            const button = container.querySelector('.quiz-check');
            const inputs = container.querySelectorAll('input[data-step]');
            const result = container.querySelector('.quiz-result');
            const keywords = {
                '1': 'migrate',
                '2': 'test',
                '3': 'runserver'
            };

            button?.addEventListener('click', () => {
                let correctCount = 0;
                inputs.forEach((input) => {
                    const step = input.dataset.step;
                    const value = (input.value || '').trim().toLowerCase();
                    const isCorrect = value.includes(keywords[step]);

                    input.classList.remove('quiz-wrong', 'quiz-correct');
                    const status = input.parentElement?.querySelector('.quiz-status');

                    if (value) {
                        input.classList.add(isCorrect ? 'quiz-correct' : 'quiz-wrong');
                        if (status) {
                            status.classList.add('is-visible');
                            status.classList.remove('is-wrong', 'is-correct');
                            status.classList.add(isCorrect ? 'is-correct' : 'is-wrong');
                            status.textContent = isCorrect ? 'âœ“' : 'âœ—';
                        }
                        if (isCorrect) correctCount++;
                    }
                });

                const total = inputs.length;
                if (correctCount === total) {
                    result.textContent = 'ğŸ‰ å…¨éƒ¨æ­£ç¡®ï¼';
                    result.style.color = '#059669';
                } else {
                    result.textContent = `å¾—åˆ†ï¼š${correctCount}/${total}`;
                    result.style.color = '#b45309';
                }
            });
        }
    </script>
</body>
</html>
